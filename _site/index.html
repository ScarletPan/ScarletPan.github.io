<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; My SCARLET</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="/">
<meta property="og:site_name" content="My SCARLET">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="My SCARLET Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/author.jpg" alt="Haojie PAN photo" class="author-photo">
					<h4>Haojie PAN</h4>
					<p>I wish I could.</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:3140102237@zju.edu.cn"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				
				
				
				
				<li>
					<a href="https://github.com/ScarletPan"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="/images/abstract-4.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>My SCARLET</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-10-04T00:00:00+00:00"><a href="/pr-bayes-decision-rule/">October 04, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Haojie PAN">Haojie PAN</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/pr-bayes-decision-rule/" rel="bookmark" title="Bayes Decision Rule" itemprop="url">Bayes Decision Rule</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
<p>情景引入： 作为一个classificaton的问题，假设有sea bass 和 salmon两类鱼，而我们决策的目的是为了区分它们，用于区分我们将引入feature这个概念，大致意思就是可以用一系列特征来判断出某一条打捞上来的鱼是sea bass还是salmon，在这里我们只取一条鱼的lightness作为feature。</p>
</blockquote>

<h4>相关术语</h4>

<ul>
<li>state of nature:
<p>&emsp;&emsp;在这个例子的前提下，我们可以断定自然状态下只有两种可能：sea bass和salmon. 如果我们用符号\( w \)来表示state of nature, 则\( w = w_1 \)为sea bass, \( w = w_2 \)为salmon</p></li>
<li>priori probability(<strong>prior</strong>):
<p>&emsp;&emsp;\( P(w_1) \)指打捞上来的下一条鱼为sea bass, \( P(w_2) \)指打捞上来的下一条鱼为salmon，很显然, \( P(w_1) + P(w_2) = 1 \). 从上述陈述中我们可以将prior理解为我们事先知道的知识，比如我们知道我们要打捞的海域这两种鱼的比例为2:1。</li>
<li>class-conditional probability density(<strong>likelihood</strong>):
<p>&emsp;&emsp;\( P(x \space | w_j) \), 用概率论的知识我们可以这么理解它：假设feature \( x \)在\( w_j \)这一类中服从某种分布，那么在这一类鱼的lightness为某一直的概率越大，相应的\( P(x \space | w_j) \)也就越大，比如说sea bass 的lightness 为10的可能性非常高，则\( P(x=10 \space | w_1) \)也就非常大。</li>
<li>evidence：
<p>&emsp;&emsp;\( p(x) \)， 在这个例子中表示的就是某个lightness在打捞上来的鱼中出现的概率有多高。同事我们也可以将其当做一个scale因子，这可以保证posterior概率之和为1.</li>
<li>posterior：
<p>&emsp;&emsp;\( P(w_j \space | x) \)， 在这个例子上即为当捞上一条鱼他的lightness为某一值时，它为sea bass和salmon的概率各自有多大</li>
</ul>

<h4>贝叶斯公式</h4>

<p>&emsp;&emsp;学过概率论的同学应该对下面这个式子并不陌生：
<center> \[ P(w_j  | x) = \frac{p(x \space | w_j) P(w_j)}{p(x)} \] </center>
&emsp;&emsp;有了上面的术语解释，我们可以用相关的术语来表达这个式子:
<center> \[ posterior = \frac{likelihood \times prior}{evidence} \]</center>
&emsp;&emsp;这就是所谓的贝叶斯公式了</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-10-03T00:00:00+00:00"><a href="/pr-introduction/">October 03, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Haojie PAN">Haojie PAN</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/pr-introduction/" rel="bookmark" title="导言" itemprop="url">导言</a></h1>
    
  </header>
  <div class="entry-content">
    <p><p>&emsp;&emsp; 到了大三了，<a href="https://github.com/ScarletPan/VisualQA">VQA</a>项目暂时没有新的进展，因此告一段落。与<a href="http://dengcai.zjulearning.org/">professor Cai</a> 交流后，听从他的建议将基础知识一步步地再搭建起来，对我以后将会有很大的帮助。回顾之前的学习生涯，在ML基础知识上花的其实挺少的，上过Andrew Ng在coursera上开的Machine learning课后似乎就直接开始学习NLP的相关知识了，再接着就是学习深度学习啊，学习RNN, LSTM之类的（虽然没有写博文），一开始professor Cai叫我看的 <em>Pattern Classification</em>  一书开了个头就没有继续看下去了。突然之间感觉自己的基础还不怎么扎实就想着飞了，可能对于自己以后的学习会造成影响，因此打算从头开始学ML的算法，重新开始看 <em>Pattern Classification</em> ，并且借助professor Cai的<a href="http://dengcai.zjulearning.org/Courses/DM/">课程网站</a>继续学习。
<p>&emsp;&emsp;理想中是每学习一块内容就同步一篇博文归纳，希望自己能好好坚持下去。</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-09-03T00:00:00+00:00"><a href="/tensorflow/">September 03, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Haojie PAN">Haojie PAN</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/tensorflow/" rel="bookmark" title="极简的深度学习环境搭建(Nvidia GTX850 + cuda8.0 + tensorflow0.10.0 + ubuntu 16.04)" itemprop="url">极简的深度学习环境搭建(Nvidia GTX850 + cuda8.0 + tensorflow0.10.0 + ubuntu 16.04)</a></h1>
    
  </header>
  <div class="entry-content">
    <h2>1 &emsp; Linux 版本</h2>

<p><center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-1.png" alt="pic1"></center></p>

<h2>2 &emsp; GPU 信息</h2>

<p><center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-2.png" alt="pic2"></center></p>

<h2>3 &emsp; 安装nvidia驱动</h2>

<p>在software &amp; update中直接更改即可, 由于cuda对驱动版本要求高, 因此最好选择361．安装完后重启一下
<center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-3.png" alt="pic3"></center></p>

<h2>4 &emsp; 安装cuda 8.0</h2>

<ul>
<li>前往 <a href="https://developer.nvidia.com/cuda-release-candidate-download">cuda下载页面</a></li>
<li>注册（如果还没有账号）</li>
<li>选择deb下载
<center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-4.png" alt="pic4"></center></li>
<li>下载成功后在本地解包安装</li>
</ul>
<div class="highlight"><pre><code class="language-linux" data-lang="linux">$ sudo dpkg -i cuda-repo-ubuntu1604-8-0-rc_8.0.27-1_amd64.deb
$ sudo apt-get update
$ sudo apt-get install cuda
</code></pre></div>
<ul>
<li>设置环境变量
<p>在.bashrc中输入下列语句：</p></li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64"
export CUDA_HOME=/usr/local/cuda
</code></pre></div>
<ul>
<li>测试(以1_Utilities/deviceQuery为例)：</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">$ cd /usr/local/cuda/samples/1_Utilities/deviceQuery
$ make
$ ./deviceQuery
</code></pre></div>
<p>&emsp;成功后大概长这样：
<center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-5.png" alt="pic5"></center></p>

<p><strong>UPDATE</strong> </p>

<ul>
<li>装了cuda 8运行pip下载的tensorflow会出现问题。如果读者出现问题，可以考虑安装7.5</li>
<li>cuda7.5并没有支持ubuntu16.04。但可以参考这个<a href="https://www.pugetsystems.com/labs/hpc/NVIDIA-CUDA-with-Ubuntu-16-04-beta-on-a-laptop-if-you-just-cannot-wait-775/">博文</a></li>
</ul>

<h2>5 &emsp; 部署cudnn4.0</h2>

<ol>
<li>前往　<a href="https://developer.nvidia.com/cudnn">cudnn下载页面</a></li>
<li>下载相应版本的cudnn4</li>
<li>将相应内容拷贝到cuda目录中</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">tar xvzf cudnn-7.5-linux-x64-v4.tgz
sudo cp cuda/include/cudnn.h /usr/local/cuda/include
sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64
sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*
</code></pre></div>
<h2>6 &emsp; 安装相应的tensorflow</h2>

<p>前往 <a href="https://www.tensorflow.org/versions/r0.10/get_started/os_setup.html">tensorflow官网</a>，其中列举了不少安装方式，安装带gpu的版本</p>

<h2>7 &emsp; 测试</h2>

<p>可以用tensorflow自带的sample测试,可以看到gpu相对与cpu测试速度有很大的提升：
<p> cpu版本 </p>
<center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-6.png" alt="pic6"></center>
<p> gpu版本 </p>
<center><img src="http://o6qr23o6z.bkt.clouddn.com/post_16-09-03-7.png" alt="pic7"></center></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-08-24T00:00:00+00:00"><a href="/django/">August 24, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Haojie PAN">Haojie PAN</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/django/" rel="bookmark" title="Steps for starting a django app" itemprop="url">Steps for starting a django app</a></h1>
    
  </header>
  <div class="entry-content">
    <h3>Tips1: &emsp; 配置 pymysql　*</h3>

<p>在　<strong>init</strong>.py 中添加：</p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymysql</span>
<span class="n">pymysql</span><span class="o">.</span><span class="n">install_as_MySQLdb</span><span class="p">()</span>
</code></pre></div>
<p>在　setting.py中修改：</p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'default'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'ENGINE'</span><span class="p">:</span> <span class="s">'django.db.backends.mysql'</span><span class="p">,</span>
        <span class="s">'NAME'</span><span class="p">:</span> <span class="s">'vqa'</span><span class="p">,</span>  <span class="c"># mysql数据库名</span>
        <span class="s">'USER'</span><span class="p">:</span><span class="s">'root'</span><span class="p">,</span>  <span class="c">#　mysql用户名，留空则默认为当前linux用户名　</span>
        <span class="s">'PASSWORD'</span><span class="p">:</span><span class="s">'123456'</span><span class="p">,</span>
        <span class="s">'HOST'</span><span class="p">:</span><span class="s">''</span><span class="p">,</span>     <span class="c"># 留空默认为localhost</span>
        <span class="s">'PORT'</span><span class="p">:</span><span class="s">''</span><span class="p">,</span>     <span class="c"># 留空默认为3306端口</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3>Tips2: &emsp; 创建数据库并且migrate</h3>

<p>在 mysql  中创建数据库
在项目目录中输入</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ python manage.py migrate
</code></pre></div>
<p>成功后会看到：</p>
<div class="highlight"><pre><code class="language-" data-lang="">Operations to perform:
  Apply all migrations: auth, sessions, admin, contenttypes
Running migrations:
  Rendering model states... DONE
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying sessions.0001_initial... OK

</code></pre></div>
<h3>Tips3: &emsp; 创建app</h3>

<p>在项目目录中输入</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ python manage.py startapp polls
</code></pre></div>
<h3>Tips4: &emsp; 创建模型</h3>

<p>编辑　app/models.py</p>

<h3>Tips5: &emsp; 激活模型</h3>

<p>编辑　project/settings/py</p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">'django.contrib.admin'</span><span class="p">,</span>
    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.contenttypes'</span><span class="p">,</span>
    <span class="s">'django.contrib.sessions'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.staticfiles'</span><span class="p">,</span>
    <span class="s">'app'</span><span class="p">,</span>    <span class="c"># 这是新增的app</span>
<span class="p">)</span>
</code></pre></div>
<p>运行命令</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ python manage.py makemigrations app    # app迁移
$ python manage.py sqlmigrate vqa 0001　 # sql迁移
$ python manage.py migrate # 将这些改变更新到数据库中。
</code></pre></div>
<h3>Tips5(+): &emsp; 修改模型</h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ 修改models.py （最好每个类中都写上 def __str__())
$ python manage.py makemigrations
$ python manage.py migrate
</code></pre></div>
<h3>Tips6: &emsp; 创建管理网站</h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ python manage.py createsuperuser # 创建一个能够登录管理站点的用户
</code></pre></div>
<p>在admin.py中注册，添加</p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">xxx</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">xxx</span><span class="p">)</span>
</code></pre></div>
<h3>Tips7: &emsp; 制作对外view</h3>

<ul>
<li>html 模板
在app中创建 app/templates/app/xxx.html</li>
<li>css,js, images 模板,</li>
<li>在app中创建 app/static/css/xxx.css</li>
<li>在project/setting.py 找到 STATIC_URL 并在下方添加</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">STATIC_ROOT = os.path.join(os.path.dirname(__file__),'static')
STATICFILES_DIRS = (
    ('css',os.path.join(STATIC_ROOT,'css').replace('\\','/') ), 
    ('js',os.path.join(STATIC_ROOT,'js').replace('\\','/') ),
    ('images',os.path.join(STATIC_ROOT,'images').replace('\\','/') ),
)
</code></pre></div>
<p>并创建相应的文件。
3. 相应的html中的link改为：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">    <span class="nt">&lt;link</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/static/css/xxx.css"</span> <span class="nt">/&gt;</span>
</code></pre></div>
<h3>Tips8: &emsp; 部署项目</h3>

<p>详见：http://djangobook.py3k.cn/2.0/chapter12/</p>

<h3>*ImageField 的使用</h3>

<ol>
<li>在setting.py中添加路径和url:</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">MEDIA_ROOT = BASE_DIR + 'xxx/media/'
MEDIA_URL =  BASE_URL + 'xxx/media/'   # 两者其实相同
</code></pre></div>
<ol>
<li>在project/urls.py添加 url:</li>
</ol>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.conf.urls.static</span> <span class="kn">import</span> <span class="n">static</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="o">***</span>
<span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">static</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">,</span> <span class="n">document_root</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_ROOT</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>在app/model.py中对于相应的model:</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">xxx = models.ImageField(upload_to = '***') # ***为相对路径
</code></pre></div>
<h3>*配置ajax</h3>

<p>在js脚本前添加配置：</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">getCookie</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cookieValue</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cookies</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">';'</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">cookies</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">cookie</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">cookies</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
            <span class="c1">// Does this cookie string begin with the name we want?</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">name</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">'='</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">cookieValue</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">cookieValue</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">csrftoken</span> <span class="o">=</span> <span class="nx">getCookie</span><span class="p">(</span><span class="s1">'csrftoken'</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">csrfSafeMethod</span><span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// these HTTP methods do not require CSRF protection</span>
    <span class="k">return</span> <span class="p">(</span><span class="sr">/^</span><span class="se">(</span><span class="sr">GET|HEAD|OPTIONS|TRACE</span><span class="se">)</span><span class="sr">$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">method</span><span class="p">));</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">sameOrigin</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// test that a given url is a same-origin URL</span>
    <span class="c1">// url could be relative or scheme relative or absolute</span>
    <span class="kd">var</span> <span class="nx">host</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">host</span><span class="p">;</span> <span class="c1">// host + port</span>
    <span class="kd">var</span> <span class="nx">protocol</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sr_origin</span> <span class="o">=</span> <span class="s1">'//'</span> <span class="o">+</span> <span class="nx">host</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">origin</span> <span class="o">=</span> <span class="nx">protocol</span> <span class="o">+</span> <span class="nx">sr_origin</span><span class="p">;</span>
    <span class="c1">// Allow absolute or scheme relative URLs to same origin</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">url</span> <span class="o">==</span> <span class="nx">origin</span> <span class="o">||</span> <span class="nx">url</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nx">origin</span> <span class="o">+</span> <span class="s1">'/'</span><span class="p">)</span> <span class="o">||</span>
        <span class="p">(</span><span class="nx">url</span> <span class="o">==</span> <span class="nx">sr_origin</span> <span class="o">||</span> <span class="nx">url</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">sr_origin</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nx">sr_origin</span> <span class="o">+</span> <span class="s1">'/'</span><span class="p">)</span> <span class="o">||</span>
        <span class="c1">// or any other URL that isn't scheme relative or absolute i.e relative.</span>
        <span class="o">!</span><span class="p">(</span><span class="sr">/^</span><span class="se">(\/\/</span><span class="sr">|http:|https:</span><span class="se">)</span><span class="sr">.*/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">url</span><span class="p">));</span>
<span class="p">}</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span>
    <span class="na">beforeSend</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">csrfSafeMethod</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">sameOrigin</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">url</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// Send the token to same-origin, relative URLs only.</span>
            <span class="c1">// Send the token only if the method warrants CSRF protection</span>
            <span class="c1">// Using the CSRFToken value acquired earlier</span>
            <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"X-CSRFToken"</span><span class="p">,</span> <span class="nx">csrftoken</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-07-18T00:00:00+00:00"><a href="/linux_software/">July 18, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Haojie PAN">Haojie PAN</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/linux_software/" rel="bookmark" title="Software config in linux" itemprop="url">Software config in linux</a></h1>
    
  </header>
  <div class="entry-content">
    <h1>目录</h1>

<ul>
<li><a href="#1">搜狗拼音</a></li>
<li><a href="#2">SS-link</a></li>
<li><a href="#4">Git</a></li>
<li><a href="#5">Ruby</a></li>
<li><a href="#6">Nodejs</a></li>
<li><a href="#7">Jekyll</a></li>
<li><a href="#8">Mysql</a></li>
<li><a href="#9">Apache</a></li>
<li><a href="#10">Latex</a></li>
<li><a href="#11">Flash Player</a></li>
<li><a href="#12">Sublime texter</a></li>
</ul>

<h3><h2 id="1"> [1] &emsp;Sougoupinyin</h2></h3>

<ol>
<li>download from website</li>
<li><code>$ sudo dpkg -i sogoupinyin_2.0.0.0078_amd64.deb</code></li>
<li><code>$ sudo apt-get install -f</code></li>
<li><code>$ sudo dpkg -i sogoupinyin_2.0.0.0078_amd64.deb</code></li>
</ol>

<h3><h2 id="2"> [2] &emsp; Shadowsocks Qt-5 + SwitchyOmega</h2></h3>

<ol>
<li>下载</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo add-apt-repository ppa:hzwhuang/ss-qt5
$ sudo apt-get update
$ sudo apt-get install shadowsocks-qt5
</code></pre></div>
<ol>
<li>setting-&gt;network-&gt;proxy-&gt;socks host + port.</li>
<li>add SwitchyOmega into chromium</li>
</ol>

<h3><h2 id="3"> [3] &emsp; Atom text edit </h2></h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo add-apt-repository ppa:webupd8team/atom
$ sudo apt-get update
$ sudo apt-get install atom
</code></pre></div>
<h3><h2 id="4"> [4] &emsp; git </h2></h3>

<ol>
<li>下载：</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo apt-get git
</code></pre></div>
<ol>
<li>配置：</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">$ git config --global user.name "ScarletPan"
$ git config --global user.email "myscarlet@sina.com"
$ ssh-keygen -t rsa -C "myscarlet@sina.com" #生成 ssh-key
$ eval "$(ssh-agent -s)" # 检查ssh-agent
$ ssh-add ~/.ssh/id_rsa # 将新产生的秘钥加入
$ gedit .ssh/id_rsa.pub # 将内容复制到github用户SSH-key中
</code></pre></div>
<h3><h2 id="5"> [5] &emsp; ruby</h2></h3>

<ol>
<li>下载：</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo apt-get install ruby2.3
</code></pre></div>
<ol>
<li>配置</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang="">$ gem source -r https://rubygems.org/  #更换到内陆的下载源
$ gem source -a https://ruby.taobao.org
$ sudo apt-get install ruby-dev
</code></pre></div>
<h3><h2 id="6"> [6] &emsp; Nodejs </h2></h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo apt-get install nodejs # nodejs -v4.2.6
</code></pre></div>
<h3><h2 id="7"> [7] &emsp; jekyll </h2></h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo gem install jekyll
$ sudo gem install jekyll-sitemap
$ sudo gem install jekyll-paginate
$ sudo gem install jekyll-gist
$ sudo gem install redcarpet
</code></pre></div>
<h3><h2 id="8"> [8] &emsp; mysql </h2></h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo apt-get install mysql-server
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">$ mysql_secure_installation
</code></pre></div>
<p>&emsp; The first question will ask if you want to change the root password, but because you just set it, enter n. For all other questions, press ENTER to accept the default response.</p>

<h3><h2 id="9"> [9] &emsp; apache </h2></h3>

<p>参考：<a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-apache-mysql-and-python-lamp-server-without-frameworks-on-ubuntu-14-04">python + apache + django 配置  </a></p>

<h3><h2 id="10"> [10] &emsp; latex </h2></h3>
<div class="highlight"><pre><code class="language-" data-lang="">$ sudo apt-get install texlive-full
$ sudo atp-get install texmaker
</code></pre></div>
<h3><h2 id="11"> [11] &emsp; Flash-Player </h2></h3>

<p>System-settings -&gt; Software &amp; Update -&gt; other Software -&gt; Canonical Partners (get-in)
<code>
sudo apt install adobe-flashplugin
</code></p>

<h3><h2 id="12"> [11] &emsp; sublime-text </h2></h3>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    

    
    
      <li><strong class="current-page">1</strong></li>
    

    
    

    
    
    

    

    
    

    
      <li><a href="/page2/">2</a></li>
    

    
    
      <li><a href="/page2/" class="btn">Next</a></li>
    
  </ul>
</div>

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Haojie PAN. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
